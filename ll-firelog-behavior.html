<script type="application/javascript" src="../lodash/lodash.js"></script>
<script>
  FireLogBehavior = {

    properties: {

      // If true, _fireLog will output messages to console.
      fireLoggingEnabled: {
        type: Boolean,
        value: false
      },

      // Optional.
      // Prepended to console messages output by _fireLog method.
      // kebab-case version prepended to custom event names fired with _fireLogFire method.
      fireLogName: String
    },

    _fireLogFire: function (type, detail, options) {
      this.fire(type, detail, options);
      if(this.fireLogName) {
        type = _.kebabCase(this.fireLogName) + '-' + type;
      }
      this._fireLog('fired "' + type + '"');
      if (detail) {
        this._fireLog('...with detail', detail, false);
      }
      if (options) {
        this._fireLog('...with options', options, false);
      }
    },

    _fireLog: function (msg, obj) {
      if (this.fireLoggingEnabled) {
        if (this.fireLogName) {
          msg = this.fireLogName + ': ' + msg;
        }
        console.log(msg, obj || '');
      }
    }
  };
</script>